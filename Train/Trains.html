<!DOCTYPE html>
<html>
    <head>
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
        <!-- <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>        
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" />
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.min.js"></script> -->
        <link rel="stylesheet" href="https://tip-tr4cdn.cdn.hinet.net/tra-tip-web/static/css/font-awesome.min.css?version=8.7.40">
        <link rel="stylesheet" href="https://tip-tr4cdn.cdn.hinet.net/tra-tip-web/static/css/tip_normal.css?version=8.7.40">
        <link rel="stylesheet" href="https://tip-tr4cdn.cdn.hinet.net/tra-tip-web/static/css/tip_default.css?version=8.7.40">
        <link rel="stylesheet" href="https://tip-tr4cdn.cdn.hinet.net/tra-tip-web/static/css/tip_station_map.css?version=8.7.40">
		<script src="https://tip-tr4cdn.cdn.hinet.net/tra-tip-web/static/js/jquery.min.3.5.0.js?version=8.7.40"></script>
    </head>
    <script src="FS2PT.js"></script>
    <body>
        <div id="showbox"></div>
        <div id="demo"></div>
        <!-- <div id="FS" style="display:none;"></div> -->
        <!-- <div id="FS" style="display:none;"></div> -->
        <!-- <div id="PT" style="display:none;"></div> -->
    </body>
    <script type="text/javascript" charset="utf-8">
        window.onload =  ShowTime();
        function ShowTime(){
            var NowDate=new Date();
            var h=NowDate.getHours();
            var m=NowDate.getMinutes();
            var s=NowDate.getSeconds();
                document.getElementById('showbox').innerHTML = h+'時'+m+'分'+s+'秒';
				if (s==0){
					checkTrain();
				}
				//vsTime('05:00');
                setTimeout('ShowTime()',1*1000);
        }
		function vsTime(tick){
		    var d=new Date(); 
		    var tickTime =  d.getFullYear() + "-" + (d.getMonth()+1) + "-" + d.getDate() + ' ' + tick + ':00';
			var t=(Date.parse(tickTime)).valueOf();
			var diff=(t-d)/ (1000 * 60 );
			console.log(tick + " =>" + diff);
			return parseInt(diff);
		}
		function checkTrain(){
			var demo=document.getElementById("demo");
			demo.innerHTML="";
			var trainName,sTime,eTime,aTime;
			for	(var i =0;i<GoN.length;i++){
				trainName = GoN[i][0];
				sTime=GoN[i][3];
				eTime=GoN[i][1];
				aTime=GoN[i][2];
				if (vsTime(sTime)<=0 && vsTime(eTime)>=0){
				   demo.innerHTML+=trainName + " " + sTime + " => " + eTime + " " + aTime+ "<br>";
				}
			}	
			for	(var i =0;i<GoS.length;i++){
				trainName = GoS[i][0];
				sTime=GoS[i][1];
				eTime=GoS[i][3];
				aTime=GoS[i][2];
				if (vsTime(sTime)<=0 && vsTime(eTime)>=0){
				   demo.innerHTML+=trainName + " " + sTime + " => " + eTime + " " + aTime+ "<br>";
				}
			}
		}		
	checkTrain();
    //console.log("GoN");
	//console.log(GoN);
    //console.log("GoS");
    //console.log(GoS);
    </script>
</html>

